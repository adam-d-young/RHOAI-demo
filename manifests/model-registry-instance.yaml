# Model Registry Instance for RHOAI Dashboard
# Creates an actual registry service that the Dashboard can connect to.
# The DSC-level ModelRegistry component (Managed) only installs the operator --
# this CR creates the instance with a MySQL backend.
---
apiVersion: v1
kind: Secret
metadata:
  name: model-registry-db-credential
  namespace: rhoai-model-registries
stringData:
  password: registry_password
type: Opaque
---
apiVersion: modelregistry.opendatahub.io/v1beta1
kind: ModelRegistry
metadata:
  name: fsi-model-registry
  namespace: rhoai-model-registries
spec:
  grpc: {}
  rest: {}
  mysql:
    host: model-registry-db.rhoai-model-registry.svc.cluster.local
    port: 3306
    database: model_registry
    username: registry_user
    passwordSecret:
      name: model-registry-db-credential
      key: password
